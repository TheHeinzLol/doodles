
#guard for file opening
import re
try:
    fhand = open('C:/Users/Педик/Desktop/Python/mbox.txt')# use / even on Windows
except:
    print('File cannot be opened:', fhand, '/nCheck if file path and file name are correct')

count = 0
for line in fhand:
    line = line.rstrip()
    x = re.findall('^Author', line)
    if len(x)>0:
        count += 1
print(f'mbox.txt had {count} lines that matched  ^Author')    
fhand.seek(0,0)

count = 0
for line in fhand:
    line = line.rstrip()
    x = re.findall('^X', line)
    if len(x)>0:
        count += 1
print(f'mbox.txt had {count} lines that matched  ^X')  
fhand.seek(0,0)

count = 0
for line in fhand:
    line = line.rstrip()
    x = re.findall('java$', line)
    if len(x)>0:
        count += 1
print(f'mbox.txt had {count} lines that matched  java$')  
fhand.seek(0,0)

count = 0
total = 0
for line in fhand:
    line = line.rstrip()
    x = re.findall('N.*: ([0-9.]+)', line)   # searching 'New revision:' line and adding its value to total for whatever reason
    if len(x)>0:
        total += int(x[0])
        count += 1
average = total//count
print(f'mbox average= {average}')

try:
    fhand = open('C:/Users/Педик/Desktop/Python/mbox-short.txt')
except:
    print('File cannot be opened:', fhand, '/nCheck if file path and file name are correct')
count = 0
total = 0
for line in fhand:
    line = line.rstrip()
    x = re.findall('N.*: ([0-9]+)', line) 
    if len(x)>0:
        total += int(x[0])
        count += 1
average = total//count
print(f'mbox-short average= {average}')
